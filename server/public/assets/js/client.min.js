/*! sportngin 2016-05-25 */
var app=angular.module("tryoutsApp",["ngRoute","mobile-angular-ui","mobile-angular-ui.gestures"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"/app/view/",controller:"LoginController",controllerAs:"login"}).when("/logout",{templateUrl:"/app/view/",controller:"LogoutController",controllerAs:"logout"}).when("/new",{templateUrl:"/app/view/new",controller:"TryoutInputController",controllerAs:"input"}).when("/archives",{templateUrl:"/app/view/archives",controller:"ArchivesController",controllerAs:"archive"}),b.html5Mode(!0)}]),app.controller("LoginController",["$http","UserService",function(a,b){var c=this;c.guest={},c.guestLogin=function(){console.log(c.guest),b.guestAuthentication(c.guest)}}]),app.controller("TryoutInputController",["TryoutService",function(a){var b=this,c=1;b.tryout={title:"",date:null},b.categories=[{id:1}],b.addFields=function(){c+=1,b.categories.push({id:c})},b.removeField=function(a){b.categories.splice(a,1)},b.submitInfo=function(){b.tryout.categories=b.categories,a.saveTryoutInfo(b.tryout)}}]),app.controller("TryoutManagementController",["$http",function(a){}]),app.controller("LogoutController",["UserService","$templateCache","$location",function(a,b,c){b.removeAll(),a.isAuthenticated(function(b){b===!0?a.logout(function(){c.path("/")}):c.path("/")})}]),app.controller("ArchivesController",function(){}),app.factory("UserService",["$http",function(a){var b=function(b){a.get("/auth/logout").then(function(a){b()})},c=function(b){a.get("/auth/check").then(function(a){b(a.data.success===!0?!0:!1)})},d=function(b){a.post("/auth/guest",b).then(function(a){console.log(a)})};return{logout:b,isAuthenticated:c,guestAuthentication:d}}]),app.factory("TryoutService",["$http",function(a){var b=function(b){console.log("factory",b),a.post("/app/view/new",b).then(function(a){console.log(a)})};return{saveTryoutInfo:b}}]);